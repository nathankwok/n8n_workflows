{
  "updatedAt": "2025-12-22T23:13:53.466Z",
  "createdAt": "2025-11-15T20:47:32.827Z",
  "id": "gcilbe9NvWGgtaEQ",
  "name": "Backup_Workflows_to_GitHub",
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "resource": "file",
        "operation": "get",
        "owner": "={{ $node['Global Vars'].json['repo']['owner'] }}",
        "repository": "={{ $node['Global Vars'].json['repo']['name'] }}",
        "filePath": "={{ $node['Global Vars'].json['repo']['path'] + $json['name'] + '.json' }}",
        "asBinaryProperty": false,
        "additionalParameters": {}
      },
      "id": "93293200-2272-4b8b-b7e5-dc5267324a81",
      "name": "GitHub",
      "type": "n8n-nodes-base.github",
      "position": [
        1136,
        208
      ],
      "typeVersion": 1.1,
      "alwaysOutputData": true,
      "webhookId": "91581b4c-1f47-4bef-b759-1e9a45af9a20",
      "credentials": {
        "githubApi": {
          "id": "WS4XFKSFvfE1286O",
          "name": "GitHub credentials"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "a372fb26-ebc4-4434-9388-1b6507bb6d33",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        400,
        112
      ],
      "executeOnce": false,
      "typeVersion": 3
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "16a9182d-059d-4774-ba95-654fb4293fdb",
              "operator": {
                "type": "string",
                "operation": "notExists",
                "singleValue": true
              },
              "leftValue": "={{ $json.error }}",
              "rightValue": ""
            }
          ]
        },
        "options": {}
      },
      "id": "0acdc12a-cee8-4938-8e7a-a15e67068940",
      "name": "If",
      "type": "n8n-nodes-base.if",
      "position": [
        1424,
        208
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "e0c66624-429a-4f1f-bf7b-1cc1b32bad7b",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              },
              "leftValue": "={{ $('Hash Github Workflow').item.json.hash.toJsonString() }}",
              "rightValue": "={{ $('Hash Local Workflow').item.json.hash.toJsonString() }}"
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "b3270d45-cd53-4cfd-8ce3-82c6fe21dcd9",
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "position": [
        2208,
        528
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "jsCode": "let items = $input.all()\n\nfor (item of items) {\n  item.json.content_base64 = item.json.content;\n\n  // Parse base_64 -> string\n  let content_str = Buffer.from(item.json.content, 'base64').toString('utf8');\n  item.json.content_str = content_str;\n\n  // Parse string -> json object\n  item.json.content = JSON.parse(content_str);\n}\n\nreturn items;\n"
      },
      "id": "a6685870-c443-409c-8a18-d98369637f21",
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "position": [
        1792,
        192
      ],
      "typeVersion": 2,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "resource": "file",
        "owner": "={{ $node['Global Vars'].json['repo']['owner'] }}",
        "repository": "={{ $node['Global Vars'].json['repo']['name'] }}",
        "filePath": "={{ $node['Global Vars'].json['repo']['path'] + $('Loop Over Items').item.json.name + '.json' }}",
        "fileContent": "={{ $('Loop Over Items').item.json.toJsonString() }}",
        "commitMessage": "=[N8N Backup] {{ $('Loop Over Items').item.json.name }}.json"
      },
      "id": "a36b1377-8d9f-44de-89b6-7174e29278cc",
      "name": "Create new file and commit",
      "type": "n8n-nodes-base.github",
      "position": [
        1616,
        368
      ],
      "typeVersion": 1.1,
      "webhookId": "89bca4de-1c07-4d62-8d6a-3f020efe2e7d",
      "credentials": {
        "githubApi": {
          "id": "WS4XFKSFvfE1286O",
          "name": "GitHub credentials"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "resource": "file",
        "operation": "edit",
        "owner": "={{ $node['Global Vars'].json['repo']['owner'] }}",
        "repository": "={{ $node['Global Vars'].json['repo']['name'] }}",
        "filePath": "={{ $node['Global Vars'].json['repo']['path'] + $('Loop Over Items').item.json.name + '.json' }}",
        "fileContent": "={{ JSON.stringify(JSON.parse($('Loop Over Items').item.json.toJsonString()), null, 2) }}",
        "commitMessage": "=[N8N Backup] {{ $('Loop Over Items').item.json.name }}.json"
      },
      "id": "8d4e0590-0cc2-49ce-80d4-ee3ce00c7fb5",
      "name": "Update file content and commit",
      "type": "n8n-nodes-base.github",
      "position": [
        2576,
        720
      ],
      "typeVersion": 1.1,
      "webhookId": "0ade4e7d-b8f9-43cc-b52b-de000a53463e",
      "credentials": {
        "githubApi": {
          "id": "WS4XFKSFvfE1286O",
          "name": "GitHub credentials"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "40 14 * * 1,3,4"
            },
            {
              "daysInterval": 2,
              "triggerAtHour": 5,
              "triggerAtMinute": 52
            },
            {
              "daysInterval": 5,
              "triggerAtHour": 16,
              "triggerAtMinute": 27
            },
            {
              "field": "weeks",
              "weeksInterval": 2,
              "triggerAtDay": [
                5
              ],
              "triggerAtHour": 22,
              "triggerAtMinute": 18
            }
          ]
        }
      },
      "id": "9b11a6bb-ed56-456c-ab93-706c73f8c909",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -1088,
        768
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "content": "Workflow changes committed to the repository",
        "height": 80
      },
      "id": "7d05f8ae-fe94-4a84-9e8e-f48df862aabd",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1888,
        944
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "Check if there are any changes in the workflow ",
        "height": 80
      },
      "id": "f4e1f950-333c-4f07-baf5-5dff5abb0c2b",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1488,
        656
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "Create a new file for the workflow",
        "height": 80
      },
      "id": "a8bf6b9d-6dab-472c-8141-3fe90e7fbcfe",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        544,
        560
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "Check if file exists in the repository",
        "height": 80
      },
      "id": "b0c9a23d-e961-4d2c-b88d-df2ccd732eab",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        368,
        0
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "Convert the file contents to JSON string ",
        "height": 80
      },
      "id": "a29ca562-095e-494e-83c0-47a6b88c6711",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1280,
        80
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "Get all n8n workflows",
        "height": 80
      },
      "id": "6594414d-185d-461d-9ab7-1c10829ad828",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        0
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "Set variables:\nrepo.owner - Repo owner or org\nrepo.name - Repo name in Github\nrepo.path - Path within the repo to backup to",
        "height": 112,
        "width": 272
      },
      "id": "74b2e2eb-2409-4da8-8b20-7d573799f308",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -256,
        624
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "jsCode": "const randomBool = Math.random() < 0.5;\nreturn {\"run_bool\": randomBool};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -800,
        768
      ],
      "id": "8fac7713-886f-4a4b-ab77-0fe584ebe218",
      "name": "Random Boolean Generator",
      "disabled": true
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "92d25fb2-c8e0-4217-ac92-84ebf49afc75",
              "leftValue": "={{ $json.run_bool }}",
              "rightValue": "true",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -528,
        768
      ],
      "id": "bfd2fb1b-451c-4c4e-b2ff-2668409acb14",
      "name": "Check if run",
      "disabled": true
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "bb6b4bd1-9856-4ef4-879e-7070ed3d9eb1",
              "name": "repo.owner",
              "value": "nathankwok",
              "type": "string"
            },
            {
              "id": "f93fb912-08e6-422c-a35e-c9ae2e4d4001",
              "name": "repo.name",
              "value": "n8n_workflows",
              "type": "string"
            },
            {
              "id": "192d0f89-3cae-407a-ba5c-c73b4cb5fa69",
              "name": "repo.path",
              "value": "workflows/",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "2b2c37d1-55b3-4fad-a50d-9e175be37823",
      "name": "Global Vars",
      "type": "n8n-nodes-base.set",
      "position": [
        -240,
        464
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "filters": {},
        "requestOptions": {}
      },
      "id": "9a622fcb-e25e-4b63-9923-1ee57e2be94f",
      "name": "Get many workflows",
      "type": "n8n-nodes-base.n8n",
      "position": [
        -32,
        112
      ],
      "typeVersion": 1,
      "credentials": {
        "n8nApi": {
          "id": "ssiYefhAGo5tLFI4",
          "name": "Internal n8n"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "04707657-2ca1-4924-ac6f-bb7511d9eaa9",
              "leftValue": "={{ $('Get many workflows').item.json.isArchived }}",
              "rightValue": "false",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        160,
        112
      ],
      "id": "e9bb0804-b3dd-4d49-9dfa-ddddd4d53c35",
      "name": "Filter"
    },
    {
      "parameters": {
        "type": "=SHA1",
        "value": "={{ $json.content.toJsonString() }}",
        "dataPropertyName": "hash"
      },
      "type": "n8n-nodes-base.crypto",
      "typeVersion": 1,
      "position": [
        2032,
        368
      ],
      "id": "f05ffcac-b469-43da-aff0-eac983a4ee00",
      "name": "Hash Github Workflow"
    },
    {
      "parameters": {
        "type": "=SHA1",
        "value": "={{ $json.toJsonString() }}",
        "dataPropertyName": "hash"
      },
      "type": "n8n-nodes-base.crypto",
      "typeVersion": 1,
      "position": [
        752,
        208
      ],
      "id": "eca39d8d-5941-4ff2-95b8-95aa29631bf3",
      "name": "Hash Local Workflow"
    }
  ],
  "connections": {
    "If": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Create new file and commit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Update file content and commit",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Hash Github Workflow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GitHub": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Hash Local Workflow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Global Vars",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create new file and commit": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update file content and commit": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Random Boolean Generator": {
      "main": [
        [
          {
            "node": "Check if run",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check if run": {
      "main": [
        [
          {
            "node": "Global Vars",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Global Vars": {
      "main": [
        [
          {
            "node": "Get many workflows",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get many workflows": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Hash Github Workflow": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Hash Local Workflow": {
      "main": [
        [
          {
            "node": "GitHub",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": {
    "node:Schedule Trigger": {
      "recurrenceRules": [
        null,
        5,
        4,
        50
      ]
    }
  },
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "1483d91c-3b33-449b-b40f-d50517acf9f0",
  "activeVersionId": "1483d91c-3b33-449b-b40f-d50517acf9f0",
  "triggerCount": 1,
  "shared": [
    {
      "updatedAt": "2025-11-15T20:47:32.831Z",
      "createdAt": "2025-11-15T20:47:32.831Z",
      "role": "workflow:owner",
      "workflowId": "gcilbe9NvWGgtaEQ",
      "projectId": "2vHf2VxAoKk0WgJE"
    }
  ],
  "activeVersion": {
    "updatedAt": "2025-12-22T23:13:53.467Z",
    "createdAt": "2025-12-22T23:13:53.467Z",
    "versionId": "1483d91c-3b33-449b-b40f-d50517acf9f0",
    "workflowId": "gcilbe9NvWGgtaEQ",
    "nodes": [
      {
        "parameters": {
          "resource": "file",
          "operation": "get",
          "owner": "={{ $node['Global Vars'].json['repo']['owner'] }}",
          "repository": "={{ $node['Global Vars'].json['repo']['name'] }}",
          "filePath": "={{ $node['Global Vars'].json['repo']['path'] + $json['name'] + '.json' }}",
          "asBinaryProperty": false,
          "additionalParameters": {}
        },
        "id": "93293200-2272-4b8b-b7e5-dc5267324a81",
        "name": "GitHub",
        "type": "n8n-nodes-base.github",
        "position": [
          1136,
          208
        ],
        "typeVersion": 1.1,
        "alwaysOutputData": true,
        "webhookId": "91581b4c-1f47-4bef-b759-1e9a45af9a20",
        "credentials": {
          "githubApi": {
            "id": "WS4XFKSFvfE1286O",
            "name": "GitHub credentials"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "options": {}
        },
        "id": "a372fb26-ebc4-4434-9388-1b6507bb6d33",
        "name": "Loop Over Items",
        "type": "n8n-nodes-base.splitInBatches",
        "position": [
          400,
          112
        ],
        "executeOnce": false,
        "typeVersion": 3
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "combinator": "and",
            "conditions": [
              {
                "id": "16a9182d-059d-4774-ba95-654fb4293fdb",
                "operator": {
                  "type": "string",
                  "operation": "notExists",
                  "singleValue": true
                },
                "leftValue": "={{ $json.error }}",
                "rightValue": ""
              }
            ]
          },
          "options": {}
        },
        "id": "0acdc12a-cee8-4938-8e7a-a15e67068940",
        "name": "If",
        "type": "n8n-nodes-base.if",
        "position": [
          1424,
          208
        ],
        "typeVersion": 2.2
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "version": 2,
              "leftValue": "",
              "caseSensitive": true,
              "typeValidation": "strict"
            },
            "conditions": [
              {
                "id": "e0c66624-429a-4f1f-bf7b-1cc1b32bad7b",
                "operator": {
                  "type": "string",
                  "operation": "notEquals"
                },
                "leftValue": "={{ $('Hash Github Workflow').item.json.hash.toJsonString() }}",
                "rightValue": "={{ $('Hash Local Workflow').item.json.hash.toJsonString() }}"
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "id": "b3270d45-cd53-4cfd-8ce3-82c6fe21dcd9",
        "name": "If1",
        "type": "n8n-nodes-base.if",
        "position": [
          2208,
          528
        ],
        "typeVersion": 2.2
      },
      {
        "parameters": {
          "jsCode": "let items = $input.all()\n\nfor (item of items) {\n  item.json.content_base64 = item.json.content;\n\n  // Parse base_64 -> string\n  let content_str = Buffer.from(item.json.content, 'base64').toString('utf8');\n  item.json.content_str = content_str;\n\n  // Parse string -> json object\n  item.json.content = JSON.parse(content_str);\n}\n\nreturn items;\n"
        },
        "id": "a6685870-c443-409c-8a18-d98369637f21",
        "name": "Code",
        "type": "n8n-nodes-base.code",
        "position": [
          1792,
          192
        ],
        "typeVersion": 2,
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "resource": "file",
          "owner": "={{ $node['Global Vars'].json['repo']['owner'] }}",
          "repository": "={{ $node['Global Vars'].json['repo']['name'] }}",
          "filePath": "={{ $node['Global Vars'].json['repo']['path'] + $('Loop Over Items').item.json.name + '.json' }}",
          "fileContent": "={{ $('Loop Over Items').item.json.toJsonString() }}",
          "commitMessage": "=[N8N Backup] {{ $('Loop Over Items').item.json.name }}.json"
        },
        "id": "a36b1377-8d9f-44de-89b6-7174e29278cc",
        "name": "Create new file and commit",
        "type": "n8n-nodes-base.github",
        "position": [
          1616,
          368
        ],
        "typeVersion": 1.1,
        "webhookId": "89bca4de-1c07-4d62-8d6a-3f020efe2e7d",
        "credentials": {
          "githubApi": {
            "id": "WS4XFKSFvfE1286O",
            "name": "GitHub credentials"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "resource": "file",
          "operation": "edit",
          "owner": "={{ $node['Global Vars'].json['repo']['owner'] }}",
          "repository": "={{ $node['Global Vars'].json['repo']['name'] }}",
          "filePath": "={{ $node['Global Vars'].json['repo']['path'] + $('Loop Over Items').item.json.name + '.json' }}",
          "fileContent": "={{ JSON.stringify(JSON.parse($('Loop Over Items').item.json.toJsonString()), null, 2) }}",
          "commitMessage": "=[N8N Backup] {{ $('Loop Over Items').item.json.name }}.json"
        },
        "id": "8d4e0590-0cc2-49ce-80d4-ee3ce00c7fb5",
        "name": "Update file content and commit",
        "type": "n8n-nodes-base.github",
        "position": [
          2576,
          720
        ],
        "typeVersion": 1.1,
        "webhookId": "0ade4e7d-b8f9-43cc-b52b-de000a53463e",
        "credentials": {
          "githubApi": {
            "id": "WS4XFKSFvfE1286O",
            "name": "GitHub credentials"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "cronExpression",
                "expression": "40 14 * * 1,3,4"
              },
              {
                "daysInterval": 2,
                "triggerAtHour": 5,
                "triggerAtMinute": 52
              },
              {
                "daysInterval": 5,
                "triggerAtHour": 16,
                "triggerAtMinute": 27
              },
              {
                "field": "weeks",
                "weeksInterval": 2,
                "triggerAtDay": [
                  5
                ],
                "triggerAtHour": 22,
                "triggerAtMinute": 18
              }
            ]
          }
        },
        "id": "9b11a6bb-ed56-456c-ab93-706c73f8c909",
        "name": "Schedule Trigger",
        "type": "n8n-nodes-base.scheduleTrigger",
        "position": [
          -1088,
          768
        ],
        "typeVersion": 1.2
      },
      {
        "parameters": {
          "content": "Workflow changes committed to the repository",
          "height": 80
        },
        "id": "7d05f8ae-fe94-4a84-9e8e-f48df862aabd",
        "name": "Sticky Note",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1888,
          944
        ],
        "typeVersion": 1
      },
      {
        "parameters": {
          "content": "Check if there are any changes in the workflow ",
          "height": 80
        },
        "id": "f4e1f950-333c-4f07-baf5-5dff5abb0c2b",
        "name": "Sticky Note1",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1488,
          656
        ],
        "typeVersion": 1
      },
      {
        "parameters": {
          "content": "Create a new file for the workflow",
          "height": 80
        },
        "id": "a8bf6b9d-6dab-472c-8141-3fe90e7fbcfe",
        "name": "Sticky Note2",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          544,
          560
        ],
        "typeVersion": 1
      },
      {
        "parameters": {
          "content": "Check if file exists in the repository",
          "height": 80
        },
        "id": "b0c9a23d-e961-4d2c-b88d-df2ccd732eab",
        "name": "Sticky Note3",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          368,
          0
        ],
        "typeVersion": 1
      },
      {
        "parameters": {
          "content": "Convert the file contents to JSON string ",
          "height": 80
        },
        "id": "a29ca562-095e-494e-83c0-47a6b88c6711",
        "name": "Sticky Note4",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1280,
          80
        ],
        "typeVersion": 1
      },
      {
        "parameters": {
          "content": "Get all n8n workflows",
          "height": 80
        },
        "id": "6594414d-185d-461d-9ab7-1c10829ad828",
        "name": "Sticky Note5",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          0,
          0
        ],
        "typeVersion": 1
      },
      {
        "parameters": {
          "content": "Set variables:\nrepo.owner - Repo owner or org\nrepo.name - Repo name in Github\nrepo.path - Path within the repo to backup to",
          "height": 112,
          "width": 272
        },
        "id": "74b2e2eb-2409-4da8-8b20-7d573799f308",
        "name": "Sticky Note6",
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -256,
          624
        ],
        "typeVersion": 1
      },
      {
        "parameters": {
          "jsCode": "const randomBool = Math.random() < 0.5;\nreturn {\"run_bool\": randomBool};"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          -800,
          768
        ],
        "id": "8fac7713-886f-4a4b-ab77-0fe584ebe218",
        "name": "Random Boolean Generator",
        "disabled": true
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "92d25fb2-c8e0-4217-ac92-84ebf49afc75",
                "leftValue": "={{ $json.run_bool }}",
                "rightValue": "true",
                "operator": {
                  "type": "boolean",
                  "operation": "true",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          -528,
          768
        ],
        "id": "bfd2fb1b-451c-4c4e-b2ff-2668409acb14",
        "name": "Check if run",
        "disabled": true
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "bb6b4bd1-9856-4ef4-879e-7070ed3d9eb1",
                "name": "repo.owner",
                "value": "nathankwok",
                "type": "string"
              },
              {
                "id": "f93fb912-08e6-422c-a35e-c9ae2e4d4001",
                "name": "repo.name",
                "value": "n8n_workflows",
                "type": "string"
              },
              {
                "id": "192d0f89-3cae-407a-ba5c-c73b4cb5fa69",
                "name": "repo.path",
                "value": "workflows/",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "id": "2b2c37d1-55b3-4fad-a50d-9e175be37823",
        "name": "Global Vars",
        "type": "n8n-nodes-base.set",
        "position": [
          -240,
          464
        ],
        "typeVersion": 3.4
      },
      {
        "parameters": {
          "filters": {},
          "requestOptions": {}
        },
        "id": "9a622fcb-e25e-4b63-9923-1ee57e2be94f",
        "name": "Get many workflows",
        "type": "n8n-nodes-base.n8n",
        "position": [
          -32,
          112
        ],
        "typeVersion": 1,
        "credentials": {
          "n8nApi": {
            "id": "ssiYefhAGo5tLFI4",
            "name": "Internal n8n"
          }
        }
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "04707657-2ca1-4924-ac6f-bb7511d9eaa9",
                "leftValue": "={{ $('Get many workflows').item.json.isArchived }}",
                "rightValue": "false",
                "operator": {
                  "type": "boolean",
                  "operation": "false",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.filter",
        "typeVersion": 2.2,
        "position": [
          160,
          112
        ],
        "id": "e9bb0804-b3dd-4d49-9dfa-ddddd4d53c35",
        "name": "Filter"
      },
      {
        "parameters": {
          "type": "=SHA1",
          "value": "={{ $json.content.toJsonString() }}",
          "dataPropertyName": "hash"
        },
        "type": "n8n-nodes-base.crypto",
        "typeVersion": 1,
        "position": [
          2032,
          368
        ],
        "id": "f05ffcac-b469-43da-aff0-eac983a4ee00",
        "name": "Hash Github Workflow"
      },
      {
        "parameters": {
          "type": "=SHA1",
          "value": "={{ $json.toJsonString() }}",
          "dataPropertyName": "hash"
        },
        "type": "n8n-nodes-base.crypto",
        "typeVersion": 1,
        "position": [
          752,
          208
        ],
        "id": "eca39d8d-5941-4ff2-95b8-95aa29631bf3",
        "name": "Hash Local Workflow"
      }
    ],
    "connections": {
      "If": {
        "main": [
          [
            {
              "node": "Code",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Create new file and commit",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If1": {
        "main": [
          [
            {
              "node": "Update file content and commit",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Loop Over Items",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Code": {
        "main": [
          [
            {
              "node": "Hash Github Workflow",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "GitHub": {
        "main": [
          [
            {
              "node": "If",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Loop Over Items": {
        "main": [
          [],
          [
            {
              "node": "Hash Local Workflow",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Schedule Trigger": {
        "main": [
          [
            {
              "node": "Global Vars",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create new file and commit": {
        "main": [
          [
            {
              "node": "Loop Over Items",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update file content and commit": {
        "main": [
          [
            {
              "node": "Loop Over Items",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Random Boolean Generator": {
        "main": [
          [
            {
              "node": "Check if run",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Check if run": {
        "main": [
          [
            {
              "node": "Global Vars",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Global Vars": {
        "main": [
          [
            {
              "node": "Get many workflows",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get many workflows": {
        "main": [
          [
            {
              "node": "Filter",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Filter": {
        "main": [
          [
            {
              "node": "Loop Over Items",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Hash Github Workflow": {
        "main": [
          [
            {
              "node": "If1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Hash Local Workflow": {
        "main": [
          [
            {
              "node": "GitHub",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "Nathan K",
    "name": null,
    "description": null
  },
  "tags": []
}